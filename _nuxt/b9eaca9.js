(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{379:function(t,e,o){"use strict";o.r(e);o(28),o(34),o(282),o(10),o(8),o(93),o(139),o(32),o(12);var l={props:{results:{type:Array,default:function(){return[]}},downloads:{type:Array,default:function(){return[]}}},data:function(){return{toggleResultsTSV:!1}},computed:{displayDownloadResultsButton:function(){return!Object.is(this.results,null)&&0!==this.results.length},toggleDownloadResultsButtonText:function(){return this.toggleResultsTSV?"Download Participant-level Results":"Download Dataset-level Results"}},methods:{generateTSVString:function(){var t=this,e=[],o=this.results.filter((function(e){return t.downloads.includes(e.dataset_name)}));if(this.toggleResultsTSV){var l=["DatasetFilePath","SubjectID","Age","Sex","Diagnosis","SessionID","SessionPath","NumSessions","Modality"].join("\t");e.push(l),o.forEach((function(t){t.subject_data.forEach((function(o){var l,n;e.push([t.dataset_file_path,o.sub_id,o.age,o.sex,null===(l=o.diagnosis)||void 0===l?void 0:l.join(", "),o.session_id,o.session_file_path,o.num_sessions,null===(n=o.image_modal)||void 0===n?void 0:n.join(", ")].join("\t"))}))}))}else{var n=["PortalURI","DatasetFilePath","DatasetName","NumMatchingSubjects","AvailableImageModalities"].join("\t");e.push(n),o.forEach((function(t){e.push([t.dataset_portal_uri,t.dataset_file_path,t.dataset_name,t.num_matching_subjects,t.image_modals.join(", ")].join("\t"))}))}return e.join("\n")},downloadResults:function(){var element=document.createElement("a");element.setAttribute("href","data:text/tsv;charset=utf-8,\n      ".concat(encodeURIComponent(this.generateTSVString()))),this.toggleResultsTSV?element.setAttribute("download","participant-results.tsv"):element.setAttribute("download","dataset-results.tsv"),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element)}}},n=o(92),component=Object(n.a)(l,(function(){var t=this,e=t._self._c;return t.displayDownloadResultsButton?e("b-col",{staticClass:"d-flex flex-row-reverse",staticStyle:{"margin-top":"1em"}},[e("b-row",{staticClass:"flex-column"},[e("b-col",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleResultsTSV,expression:"toggleResultsTSV"}],staticClass:"form-check-input",attrs:{"data-cy":"toggle-tsv-checkbox",type:"checkbox"},domProps:{checked:Array.isArray(t.toggleResultsTSV)?t._i(t.toggleResultsTSV,null)>-1:t.toggleResultsTSV},on:{change:function(e){var o=t.toggleResultsTSV,l=e.target,n=!!l.checked;if(Array.isArray(o)){var r=t._i(o,null);l.checked?r<0&&(t.toggleResultsTSV=o.concat([null])):r>-1&&(t.toggleResultsTSV=o.slice(0,r).concat(o.slice(r+1)))}else t.toggleResultsTSV=n}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Toggle level of detail to download")])]),t._v(" "),e("b-button",{attrs:{id:"download-results-button",disabled:0===t.downloads.length,"data-cy":"download-results-button"},on:{click:t.downloadResults}},[e("b-icon",{attrs:{icon:"download","font-scale":"1"}}),t._v("\n      "+t._s(t.toggleDownloadResultsButtonText)+"\n    ")],1)],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);