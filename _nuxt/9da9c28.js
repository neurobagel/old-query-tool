(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{379:function(t,e,l){"use strict";l.r(e);l(28),l(34),l(282),l(10),l(8),l(93),l(139),l(32),l(12),l(25),l(35);var o={props:{results:{type:Array,default:function(){return[]}},downloads:{type:Array,default:function(){return[]}}},data:function(){return{toggleResultsTSV:!1}},computed:{displayDownloadResultsButton:function(){return!Object.is(this.results,null)&&0!==this.results.length},toggleDownloadResultsButtonText:function(){return this.toggleResultsTSV?"Download Participant-level Results":"Download Dataset-level Results"}},methods:{generateTSVString:function(){var t=this,e=[],l=this.results.filter((function(e){return t.downloads.includes(e.dataset_name)}));if(this.toggleResultsTSV){var o=["DatasetFilePath","SubjectID","Age","Sex","Diagnosis","SessionID","SessionPath","NumSessions","Modality"].join("\t");e.push(o),l.forEach((function(t){t.subject_data.forEach((function(l){var o,n;e.push([t.dataset_file_path,l.sub_id,l.age,l.sex,null===(o=l.diagnosis)||void 0===o?void 0:o.join(", "),l.session_id,l.session_file_path,l.num_sessions,null===(n=l.image_modal)||void 0===n?void 0:n.join(", ")].join("\t"))}))}))}else{var n=["PortalURI","DatasetFilePath","DatasetName","NumMatchingSubjects","AvailableImageModalities"].join("\t");e.push(n),l.forEach((function(t){var l;e.push([t.dataset_portal_uri,t.dataset_file_path,t.dataset_name.replace("\n"," "),t.num_matching_subjects,null===(l=t.image_modals)||void 0===l?void 0:l.join(", ")].join("\t"))}))}return e.join("\n")},downloadResults:function(){var element=document.createElement("a");element.setAttribute("href","data:text/tab-separated-values;charset=utf-8,\n      ".concat(encodeURIComponent(this.generateTSVString()))),this.toggleResultsTSV?element.setAttribute("download","participant-results.tsv"):element.setAttribute("download","dataset-results.tsv"),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element)}}},n=l(92),component=Object(n.a)(o,(function(){var t=this,e=t._self._c;return t.displayDownloadResultsButton?e("b-col",{staticClass:"d-flex flex-row-reverse",staticStyle:{"margin-top":"1em"}},[e("b-row",{staticClass:"flex-column"},[e("b-col",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toggleResultsTSV,expression:"toggleResultsTSV"}],staticClass:"form-check-input",attrs:{"data-cy":"toggle-tsv-checkbox",type:"checkbox"},domProps:{checked:Array.isArray(t.toggleResultsTSV)?t._i(t.toggleResultsTSV,null)>-1:t.toggleResultsTSV},on:{change:function(e){var l=t.toggleResultsTSV,o=e.target,n=!!o.checked;if(Array.isArray(l)){var r=t._i(l,null);o.checked?r<0&&(t.toggleResultsTSV=l.concat([null])):r>-1&&(t.toggleResultsTSV=l.slice(0,r).concat(l.slice(r+1)))}else t.toggleResultsTSV=n}}}),t._v(" "),e("label",{staticClass:"form-label"},[t._v("Toggle level of detail to download")])]),t._v(" "),e("b-button",{attrs:{id:"download-results-button",disabled:0===t.downloads.length,"data-cy":"download-results-button"},on:{click:t.downloadResults}},[e("b-icon",{attrs:{icon:"download","font-scale":"1"}}),t._v("\n      "+t._s(t.toggleDownloadResultsButtonText)+"\n    ")],1)],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);